{"version":3,"sources":["../src/js/jqueryui-mosaico-cropper.js"],"names":["$","widget","options","autoClose","shiftWheel","_init","undefined","this","instance","dispose","imgEl","getScaledImageSize","scale","width","Math","round","originalImageSize","cropModel","height","getScale","getMaxScale","maxScale","movingTimeout","isMoving","addMovingClass","className","clearTimeout","rootEl","addClass","removeMovingClass","removeClass","checkRange","value","min","max","updateCropperFrameSize","newCropHeight","newCropWidth","crop","css","cropperFrameEl","widthRatio","heightRatio","minScale","sliderEl","slider","_fromScaleToSliderValue","updateCropContainerPanZoom","newLeft","newTop","newScale","updateCropContainer","changed","scaledSize","newSizes","clippedEl","imageCropContainerEl","updateScaledImageSize","container","left","top","updateScale","xp","yp","updateSlider","newScaledSize","xd","yd","updateCropHeightInternal","newHeight","origHeight","originalOuterTop","maxHeight","autoZoom","newOuterTop","log","updateOriginalImageSrc","done","res","url","resizeWidth","resizeHeight","offsetX","offsetY","cropX","cropY","cropWidth","cropHeight","urlPrefix","urlPostfix","urlOriginal","cropThenResize","cropX2","cropY2","urlAdapter","toSrc","preloadImage","img","src","attr","imgLoadingClass","updateAndDispose","closing","noCallback","disposing","containerEl","resizable","draggable","remove","origDisplay","destroy","Image","onload","after","urlAdapterResult","fromSrc","defaultPrefix","console","error","extend","find","containerSelector","fullOriginalImgUrl","match","naturalWidth","naturalHeight","focusout","a","relatedTarget","get","contains","delegatedTarget","on","focus","newWidth","resizedSize","initializeSizes","minHeight","handles","s","start","event","ui","stop","resize","size","originalSize","_trigger","scroll","drag","position","shiftKey","delta","originalEvent","deltaY","setTimeout","floor","step","ceil","slide","pow","getCropHeight","Height","updateCropHeight","mosaicoCropper","element","_destroy","jQuery"],"mappings":"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","file":"jqueryui-mosaico-cropper.min.js"}